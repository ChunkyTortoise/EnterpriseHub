# ==============================================================================
# JORGE'S BI DASHBOARD PRODUCTION SECRETS TEMPLATE
# Kubernetes Secrets Configuration
# ==============================================================================
#
# SECURITY NOTICE:
# This file contains secret definitions - NEVER commit with actual values!
# Use this template to create production secrets in Kubernetes.
#
# DEPLOYMENT:
# 1. Replace all ${PLACEHOLDER} values with actual secrets
# 2. Apply to cluster: kubectl apply -f secrets.production.yml
# 3. Verify: kubectl get secrets -n jorge-bi-production
#

apiVersion: v1
kind: Namespace
metadata:
  name: jorge-bi-production
  labels:
    name: jorge-bi-production
    environment: production
    component: business-intelligence

---

# ==============================================================================
# DATABASE SECRETS
# ==============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: jorge-bi-database-secrets
  namespace: jorge-bi-production
  labels:
    app: jorge-bi-dashboard
    component: database
    environment: production
type: Opaque
data:
  # Base64 encoded values - use: echo -n "password" | base64
  POSTGRES_PASSWORD: ${BASE64_ENCODED_POSTGRES_PASSWORD}
  POSTGRES_READ_PASSWORD: ${BASE64_ENCODED_POSTGRES_READ_PASSWORD}
  DATABASE_URL: ${BASE64_ENCODED_DATABASE_URL}
  DATABASE_READ_URL: ${BASE64_ENCODED_DATABASE_READ_URL}

---

# ==============================================================================
# REDIS SECRETS
# ==============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: jorge-bi-redis-secrets
  namespace: jorge-bi-production
  labels:
    app: jorge-bi-dashboard
    component: cache
    environment: production
type: Opaque
data:
  REDIS_PASSWORD: ${BASE64_ENCODED_REDIS_PASSWORD}
  REDIS_URL: ${BASE64_ENCODED_REDIS_URL}

---

# ==============================================================================
# AI SERVICE SECRETS
# ==============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: jorge-bi-ai-secrets
  namespace: jorge-bi-production
  labels:
    app: jorge-bi-dashboard
    component: ai-services
    environment: production
type: Opaque
data:
  ANTHROPIC_PROD_API_KEY: ${BASE64_ENCODED_ANTHROPIC_API_KEY}
  OPENAI_PROD_API_KEY: ${BASE64_ENCODED_OPENAI_API_KEY}

---

# ==============================================================================
# GHL INTEGRATION SECRETS
# ==============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: jorge-bi-ghl-secrets
  namespace: jorge-bi-production
  labels:
    app: jorge-bi-dashboard
    component: ghl-integration
    environment: production
type: Opaque
data:
  JORGE_GHL_LOCATION_ID: ${BASE64_ENCODED_GHL_LOCATION_ID}
  JORGE_GHL_API_KEY: ${BASE64_ENCODED_GHL_API_KEY}
  JORGE_GHL_AGENCY_KEY: ${BASE64_ENCODED_GHL_AGENCY_KEY}
  GHL_WEBHOOK_SECRET: ${BASE64_ENCODED_GHL_WEBHOOK_SECRET}

---

# ==============================================================================
# SECURITY & AUTHENTICATION SECRETS
# ==============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: jorge-bi-auth-secrets
  namespace: jorge-bi-production
  labels:
    app: jorge-bi-dashboard
    component: authentication
    environment: production
type: Opaque
data:
  JWT_SECRET_PRODUCTION: ${BASE64_ENCODED_JWT_SECRET}
  AES_256_KEY: ${BASE64_ENCODED_AES_256_KEY}
  ENCRYPTION_SALT: ${BASE64_ENCODED_ENCRYPTION_SALT}

---

# ==============================================================================
# EXTERNAL SERVICE SECRETS
# ==============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: jorge-bi-external-secrets
  namespace: jorge-bi-production
  labels:
    app: jorge-bi-dashboard
    component: external-services
    environment: production
type: Opaque
data:
  # Email Service
  SMTP_HOST: ${BASE64_ENCODED_SMTP_HOST}
  SMTP_USERNAME: ${BASE64_ENCODED_SMTP_USERNAME}
  SMTP_PASSWORD: ${BASE64_ENCODED_SMTP_PASSWORD}

  # Slack Integration
  SLACK_WEBHOOK_URL: ${BASE64_ENCODED_SLACK_WEBHOOK_URL}

  # Twilio SMS
  TWILIO_SID: ${BASE64_ENCODED_TWILIO_SID}
  TWILIO_TOKEN: ${BASE64_ENCODED_TWILIO_TOKEN}
  TWILIO_NUMBER: ${BASE64_ENCODED_TWILIO_NUMBER}

---

# ==============================================================================
# MONITORING SECRETS
# ==============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: jorge-bi-monitoring-secrets
  namespace: jorge-bi-production
  labels:
    app: jorge-bi-dashboard
    component: monitoring
    environment: production
type: Opaque
data:
  JAEGER_COLLECTOR_URL: ${BASE64_ENCODED_JAEGER_COLLECTOR_URL}
  PROMETHEUS_PUSH_GATEWAY_URL: ${BASE64_ENCODED_PROMETHEUS_PUSH_GATEWAY_URL}

---

# ==============================================================================
# BACKUP SECRETS
# ==============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: jorge-bi-backup-secrets
  namespace: jorge-bi-production
  labels:
    app: jorge-bi-dashboard
    component: backup
    environment: production
type: Opaque
data:
  BACKUP_S3_BUCKET: ${BASE64_ENCODED_BACKUP_S3_BUCKET}
  AWS_ACCESS_KEY_ID: ${BASE64_ENCODED_AWS_ACCESS_KEY_ID}
  AWS_SECRET_ACCESS_KEY: ${BASE64_ENCODED_AWS_SECRET_ACCESS_KEY}

---

# ==============================================================================
# ALERT CONFIGURATION SECRETS
# ==============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: jorge-bi-alert-secrets
  namespace: jorge-bi-production
  labels:
    app: jorge-bi-dashboard
    component: alerts
    environment: production
type: Opaque
data:
  ALERT_EMAIL: ${BASE64_ENCODED_ALERT_EMAIL}
  ALERT_PHONE: ${BASE64_ENCODED_ALERT_PHONE}

---

# ==============================================================================
# TLS/SSL CERTIFICATES
# ==============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: jorge-bi-tls-certs
  namespace: jorge-bi-production
  labels:
    app: jorge-bi-dashboard
    component: tls
    environment: production
type: kubernetes.io/tls
data:
  tls.crt: ${BASE64_ENCODED_TLS_CERTIFICATE}
  tls.key: ${BASE64_ENCODED_TLS_PRIVATE_KEY}

---

# ==============================================================================
# PRODUCTION SECRET GENERATION COMMANDS
# ==============================================================================
#
# Use these commands to generate secure production secrets:
#
# 1. JWT Secret (64 bytes):
#    openssl rand -hex 64
#
# 2. AES-256 Key (32 bytes):
#    openssl rand -hex 32
#
# 3. Encryption Salt (32 bytes):
#    openssl rand -hex 32
#
# 4. GHL Webhook Secret (32 bytes):
#    openssl rand -hex 32
#
# 5. Convert to Base64 for Kubernetes:
#    echo -n "your-secret-here" | base64
#
# 6. Generate strong passwords:
#    openssl rand -base64 32
#
# ==============================================================================
#
# DEPLOYMENT VALIDATION COMMANDS:
#
# 1. Verify secrets exist:
#    kubectl get secrets -n jorge-bi-production
#
# 2. Check secret values (for debugging):
#    kubectl get secret jorge-bi-auth-secrets -n jorge-bi-production -o yaml
#
# 3. Decode secret for verification:
#    kubectl get secret jorge-bi-auth-secrets -n jorge-bi-production -o jsonpath='{.data.JWT_SECRET_PRODUCTION}' | base64 --decode
#
# 4. Test secret access from pod:
#    kubectl exec -n jorge-bi-production deployment/jorge-bi-api -- env | grep JWT_SECRET
#
# ==============================================================================