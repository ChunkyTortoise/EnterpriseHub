# Railway Configuration for Jorge Salas GHL Real Estate AI
# Deploy: railway deploy --config railway.jorge.toml

[build]
builder = "NIXPACKS"

[deploy]
startCommand = "uvicorn ghl_real_estate_ai.api.main:app --host 0.0.0.0 --port $PORT"
healthcheckPath = "/api/health/live"
healthcheckTimeout = 10

# Jorge's Environment Variables
[env]
# Jorge's GHL Credentials (set these in Railway dashboard)
GHL_API_KEY = { description = "Jorge's GoHighLevel API Key" }
GHL_LOCATION_ID = { description = "Jorge's GHL Location ID" }
GHL_CALENDAR_ID = { description = "Jorge's Calendar ID for appointments" }

# Jorge's Claude API Key
ANTHROPIC_API_KEY = { description = "Jorge's Claude API Key" }

# Jorge's Auto-Deactivation Settings
AUTO_DEACTIVATE_THRESHOLD = "70"
ACTIVATION_TAGS = '["Needs Qualifying"]'
DEACTIVATION_TAGS = '["AI-Off","Qualified","Stop-Bot","AI-Qualified"]'

# Lead Scoring Configuration
HOT_LEAD_THRESHOLD = "3"
WARM_LEAD_THRESHOLD = "2"

# GHL Workflow Integration
NOTIFY_AGENT_WORKFLOW_ID = { description = "Jorge's GHL Workflow ID for agent notifications" }

# Security
GHL_WEBHOOK_SECRET = { description = "Jorge's GHL Webhook Secret for signature verification" }
JWT_SECRET_KEY = { description = "Secret key for JWT token signing (min 32 chars)" }
STRIPE_SECRET_KEY = { description = "Stripe secret key for billing (set to 'sk_test_disabled' if not using billing)" }
ADMIN_API_KEY = { description = "API key for admin routes (CRM config, bulk ops, bot mgmt)" }
REDIS_PASSWORD = { description = "Redis password (Railway auto-sets if using Redis plugin)" }

# Application Settings
ENVIRONMENT = "production"
LOG_LEVEL = "INFO"
CLAUDE_MODEL = "claude-sonnet-4-20250514"
TEMPERATURE = "0.7"
MAX_TOKENS = "150"

# Database (Railway auto-provides)
DATABASE_URL = { source = "DATABASE_URL" }
REDIS_URL = { source = "REDIS_URL" }

[build.env]
PYTHON_VERSION = "3.11"