.shell {
  max-width: 1400px;
  margin: 0 auto;
  padding: var(--lyr-space-16);
}

.topNavBrand {
  display: flex;
  align-items: center;
  gap: var(--lyr-space-12);
}

.logoBadge {
  width: 36px;
  height: 36px;
  border-radius: var(--lyr-radius-12);
  background: linear-gradient(145deg, var(--lyr-color-primary), color-mix(in srgb, var(--lyr-color-primary) 66%, white));
  color: var(--lyr-color-surface);
  display: grid;
  place-items: center;
}

.brandTitle {
  margin: 0;
  font-size: 20px;
}

.brandSubtitle {
  margin: 0;
  font-size: 12px;
  color: var(--lyr-color-text-muted);
}

.topNavStats {
  display: flex;
  align-items: center;
  gap: var(--lyr-space-8);
  flex-wrap: wrap;
}

.layout {
  display: grid;
  grid-template-columns: minmax(220px, 0.9fr) minmax(0, 1.7fr) minmax(240px, 1fr);
  gap: var(--lyr-space-16);
}

.panel {
  padding: var(--lyr-space-16);
  height: fit-content;
}

.workspaceList {
  margin-top: var(--lyr-space-12);
  display: grid;
  gap: var(--lyr-space-8);
}

.workspaceItem {
  text-align: left;
  border-radius: var(--lyr-radius-12);
  border: 1px solid var(--lyr-color-border);
  background: var(--lyr-color-surface);
  padding: 10px 12px;
  cursor: pointer;
  font-weight: 600;
  color: var(--lyr-color-text);
  min-height: 44px;
}

.workspaceItemActive {
  background: rgba(31, 94, 255, 0.1);
  color: var(--lyr-color-primary-strong);
}

.streamSection {
  display: grid;
  gap: var(--lyr-space-12);
}

.streamPanel {
  padding: var(--lyr-space-16);
  min-height: 520px;
  display: grid;
  grid-template-rows: auto 1fr auto;
}

.streamBody {
  margin-top: var(--lyr-space-12);
  overflow-y: auto;
  display: grid;
  gap: var(--lyr-space-12);
  padding-right: 2px;
}

@keyframes fadeSlideIn {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.messageCard {
  padding: var(--lyr-space-12);
  animation: fadeSlideIn 0.35s ease both;
}

.messageCard:nth-child(1) { animation-delay: 0.05s; }
.messageCard:nth-child(2) { animation-delay: 0.12s; }
.messageCard:nth-child(3) { animation-delay: 0.19s; }
.messageCard:nth-child(4) { animation-delay: 0.26s; }
.messageCard:nth-child(5) { animation-delay: 0.33s; }
.messageCard:nth-child(6) { animation-delay: 0.40s; }
.messageCard:nth-child(7) { animation-delay: 0.47s; }
.messageCard:nth-child(8) { animation-delay: 0.54s; }

.messageCardBot {
  border-color: rgba(31, 94, 255, 0.2);
  background: linear-gradient(165deg, rgba(31, 94, 255, 0.08), var(--lyr-color-surface) 50%);
}

.messageHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--lyr-space-8);
}

.messageTitleWrap {
  display: flex;
  align-items: center;
  gap: var(--lyr-space-8);
}

.messageTitle {
  font-size: 14px;
}

.messageTime {
  font-size: 12px;
  color: var(--lyr-color-text-muted);
}

.messageText {
  margin: var(--lyr-space-8) 0 0;
  color: var(--lyr-color-text);
  font-size: 14px;
  line-height: 1.5;
}

.composer {
  margin-top: var(--lyr-space-12);
  position: sticky;
  bottom: 0;
  border-radius: var(--lyr-radius-16);
  background: var(--lyr-color-surface-elevated);
  border: 1px solid var(--lyr-color-border);
  box-shadow: var(--lyr-shadow-md);
  padding: var(--lyr-space-12);
  display: grid;
  gap: var(--lyr-space-8);
}

.quickActionRow {
  display: flex;
  gap: var(--lyr-space-8);
  flex-wrap: wrap;
}

.quickActionBadge {
  cursor: pointer;
}

.commandRow {
  display: flex;
  gap: var(--lyr-space-8);
  align-items: center;
}

.contextPanel {
  padding: var(--lyr-space-16);
  height: fit-content;
  display: grid;
  gap: var(--lyr-space-12);
}

.contextBadges {
  display: grid;
  gap: var(--lyr-space-8);
}

.contextCard {
  padding: var(--lyr-space-12);
}

.contextTitle {
  margin: 0;
  font-weight: 700;
}

.contextList {
  margin: 8px 0 0;
  padding-left: 20px;
  color: var(--lyr-color-text-muted);
  font-size: 14px;
  line-height: 1.6;
}

@media (max-width: 1200px) {
  .layout {
    grid-template-columns: 1fr;
  }
}
