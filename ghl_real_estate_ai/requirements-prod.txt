# GHL Real Estate AI - Production Requirements (Railway deployment)
# Minimal set: bot server + webhook handler only.
# Heavy ML/analytics stack (chromadb, sentence-transformers, spacy, sklearn)
# is NOT included — bots use Claude API, not local embeddings.

# FastAPI + ASGI
fastapi==0.134.0
uvicorn[standard]==0.41.0
pydantic>=2.7.4,<3.0.0
pydantic-settings>=2.1.0,<3.0.0
python-multipart==0.0.22

# Anthropic Claude SDK (>=0.27 uses httpx mounts instead of deprecated proxies arg)
anthropic>=0.45.0,<1.0.0

# Google Gemini SDK (required by sentiment_analysis_service top-level import)
google-generativeai>=0.8.0

# HTTP clients (GHL API calls, alerting webhooks)
httpx>=0.28.1,<1.0.0
requests==2.32.5
aiohttp==3.13.3

# Database (PostgreSQL + async)
asyncpg==0.31.0
sqlalchemy[asyncio]==2.0.47
alembic==1.18.4

# Redis cache
redis==5.0.1

# Bot state graphs (all 3 Jorge bots)
# 0.0.55 pulled in langsmith 0.0.x which uses pydantic v1 compat, crashing on Python 3.12
# (TypeError: ForwardRef._evaluate() missing 'recursive_guard').
# langgraph>=0.1.0 depends on langsmith>=0.1.0 which uses pydantic v2 natively.
langgraph>=0.1.16,<1.1.0
langsmith>=0.1.0

# WebSocket / Socket.IO (real-time)
python-socketio==5.16.1
websockets==12.0
websocket-client==1.9.0

# Security
python-jose[cryptography]==3.5.0
passlib[bcrypt]==1.7.4

# Utilities
python-dotenv==1.2.1
pytz==2023.4
aiofiles==23.2.1
aiosqlite==0.22.1
bleach==6.3.0
structlog==24.1.0

# Scheduled tasks (digest_service 7am cron)
APScheduler==3.11.2

# Statistics (A/B testing, scoring) + ML models used at module level
scipy==1.17.1
numpy==1.26.3
pandas==2.1.4
scikit-learn==1.8.0

# Streamlit — imported at module level by several services (bot/webhook chain)
# Must be present in Docker image or container crashes with ModuleNotFoundError
streamlit>=1.30.0,<2.0.0

# JWT auth (enterprise auth module uses PyJWT directly)
PyJWT==2.11.0

# Billing
stripe==7.12.0
