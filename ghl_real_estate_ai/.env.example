# ============================================================================
# GHL Real Estate AI - Environment Variables
# ============================================================================
# INSTRUCTIONS:
# 1. Copy this file to .env (it's git-ignored)
# 2. Fill in actual values (never commit .env!)
# 3. For Railway deployment, add these in Railway dashboard

# ----------------------------------------------------------------------------
# Anthropic (Claude API)
# ----------------------------------------------------------------------------
ANTHROPIC_API_KEY=sk-ant-xxxxx
# Get your key at: https://console.anthropic.com/
# Model: claude-sonnet-4-20250514 (set in code, not env)

# ----------------------------------------------------------------------------
# Vapi Configuration (Voice AI)
# ----------------------------------------------------------------------------
VAPI_API_KEY=your_vapi_api_key
VAPI_PHONE_NUMBER_ID=your_vapi_phone_number_id
VAPI_ASSISTANT_ID=your_vapi_assistant_id

# ----------------------------------------------------------------------------
# GoHighLevel (GHL) API
# ----------------------------------------------------------------------------
GHL_API_KEY=your_ghl_api_key_here
# Get from: GHL Settings > API > Generate Key

GHL_LOCATION_ID=your_location_id_here
BUYER_PERSONA_FIELD_ID=ghl_field_buyer_persona_id
# Find in: GHL URL when logged in (e.g., location/abc123xyz)

# GHL User ID (for calendar booking)
# Get from: GHL Settings > My Profile > User ID in URL
JORGE_USER_ID=

# Daily digest email recipient (receives morning cost/performance summary)
JORGE_DIGEST_EMAIL=

# GHL Workflow IDs (Required for automation)
# Get from: GHL > Automation > Workflows > click workflow > copy ID from URL
HOT_SELLER_WORKFLOW_ID=
WARM_SELLER_WORKFLOW_ID=
HOT_BUYER_WORKFLOW_ID=
WARM_BUYER_WORKFLOW_ID=
NOTIFY_AGENT_WORKFLOW_ID=

# GHL Custom Field Mapping (Optional â€” semantic fallback used if not set)
# Run: python -m ghl_real_estate_ai.ghl_utils.jorge_ghl_setup --action=list
CUSTOM_FIELD_LEAD_SCORE=
CUSTOM_FIELD_BUDGET=
CUSTOM_FIELD_LOCATION=
CUSTOM_FIELD_TIMELINE=

GHL_WEBHOOK_SECRET=your_webhook_secret_here
# Optional: For verifying webhook signatures

# ----------------------------------------------------------------------------
# Database (PostgreSQL)
# ----------------------------------------------------------------------------
# Local development:
DATABASE_URL=postgresql://postgres:password@localhost:5432/real_estate_ai

# Railway auto-provides this, but format:
# DATABASE_URL=postgresql://user:pass@host:port/dbname

# ----------------------------------------------------------------------------
# Redis (Session State & Caching)
# ----------------------------------------------------------------------------
# Local development:
REDIS_URL=redis://localhost:6379/0

# Railway Redis addon format:
# REDIS_URL=redis://default:password@host:port

# ----------------------------------------------------------------------------
# Application Settings
# ----------------------------------------------------------------------------
ENVIRONMENT=development
# Options: development, staging, production

LOG_LEVEL=info
# Options: debug, info, warning, error, critical

API_PORT=8000
# Port for FastAPI server

API_HOST=0.0.0.0
# Host binding (0.0.0.0 = all interfaces)

# ----------------------------------------------------------------------------
# Feature Flags
# ----------------------------------------------------------------------------
ENABLE_CELERY_TASKS=false
# Set to true if using background task queue

ENABLE_RATE_LIMITING=true
# Recommended: true for production

ENABLE_SENTRY=false
# Set to true if using Sentry for error tracking

# ----------------------------------------------------------------------------
# Rate Limiting
# ----------------------------------------------------------------------------
RATE_LIMIT_PER_CONTACT=100
# Max messages per contact per hour

RATE_LIMIT_GLOBAL=1000
# Max total webhook calls per hour

# ----------------------------------------------------------------------------
# Lead Scoring Thresholds
# ----------------------------------------------------------------------------
HOT_LEAD_THRESHOLD=70
# Score >= 70 triggers agent notification

WARM_LEAD_THRESHOLD=40
# Score 40-69 = warm lead

# ----------------------------------------------------------------------------
# Agent Configuration
# ----------------------------------------------------------------------------
DEFAULT_AGENT_NAME=Sarah Johnson
# Name shown to leads when offering to connect with agent

DEFAULT_AGENT_PHONE=+15125551234
# Agent's direct line

DEFAULT_AGENT_EMAIL=agent@example.com
# Agent's email for notifications

# ----------------------------------------------------------------------------
# Vector Database (Chroma)
# ----------------------------------------------------------------------------
CHROMA_PERSIST_DIR=./data/embeddings/chroma_db
# Local path for Chroma vector database

EMBEDDING_MODEL=all-MiniLM-L6-v2
# Sentence transformer model for embeddings
# Options: all-MiniLM-L6-v2 (fast), all-mpnet-base-v2 (better quality)

# ----------------------------------------------------------------------------
# Optional: Sentry (Error Tracking)
# ----------------------------------------------------------------------------
SENTRY_DSN=https://xxxxx@sentry.io/xxxxx
# Only needed if ENABLE_SENTRY=true

# ----------------------------------------------------------------------------
# Optional: Twilio (if bypassing GHL for SMS)
# ----------------------------------------------------------------------------
TWILIO_ACCOUNT_SID=ACxxxxx
TWILIO_AUTH_TOKEN=xxxxx
TWILIO_PHONE_NUMBER=+15125551234
# Only needed if sending SMS directly instead of via GHL

# ----------------------------------------------------------------------------
# Security
# ----------------------------------------------------------------------------
SECRET_KEY=your-secret-key-for-jwt-signing
# Generate with: openssl rand -hex 32

ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com
# CORS origins (comma-separated)

# ----------------------------------------------------------------------------
# Testing
# ----------------------------------------------------------------------------
TEST_MODE=false
# Set to true to use mock responses instead of real API calls

# ----------------------------------------------------------------------------
# A/B Testing (Jorge Bot Optimization)
# ----------------------------------------------------------------------------
AB_TESTING_ENABLED=true
# Enable/disable A/B testing globally. Set to 'false' to disable all experiments.

AB_DEFAULT_TRAFFIC_SPLIT=50/50
# Default traffic split format: '50/50' for 2 variants, '33/33/33' for 3 variants

AB_MINIMUM_SAMPLE_SIZE=100
# Minimum impressions per variant before calculating statistical significance

AB_SIGNIFICANCE_THRESHOLD=0.95
# Statistical significance threshold (p < 0.05 = 95% confidence)

# Security Configuration (added by Agent 5)
JWT_SECRET_KEY=your-secret-key-change-in-production-use-256-bit-key

# ----------------------------------------------------------------------------
# Jorge Bot Mode Flags
# ----------------------------------------------------------------------------
JORGE_SELLER_MODE=false
# Enable seller qualification routing

JORGE_BUYER_MODE=false
# Enable buyer qualification routing

JORGE_LEAD_MODE=true
# Enable lead qualification routing

JORGE_SIMPLE_MODE=true
# true = 4-question seller flow (high conversion), false = 10-question flow

FRIENDLY_APPROACH=true
USE_WARM_LANGUAGE=true
NO_HYPHENS=true
MAX_SMS_LENGTH=320

# ----------------------------------------------------------------------------
# Jorge GHL Workflows (get IDs from GHL Dashboard > Automation > Workflows)
# ----------------------------------------------------------------------------
HOT_SELLER_WORKFLOW_ID=
WARM_SELLER_WORKFLOW_ID=
HOT_BUYER_WORKFLOW_ID=
WARM_BUYER_WORKFLOW_ID=

# ----------------------------------------------------------------------------
# Jorge GHL Custom Fields (get IDs from GHL Dashboard > Settings > Custom Fields)
# ----------------------------------------------------------------------------
CUSTOM_FIELD_SELLER_TEMPERATURE=
CUSTOM_FIELD_SELLER_MOTIVATION=
CUSTOM_FIELD_TIMELINE_URGENCY=
CUSTOM_FIELD_PROPERTY_CONDITION=
CUSTOM_FIELD_PRICE_EXPECTATION=
CUSTOM_FIELD_BUYER_TEMPERATURE=
CUSTOM_FIELD_PRE_APPROVAL_STATUS=
CUSTOM_FIELD_PROPERTY_PREFERENCES=

# ----------------------------------------------------------------------------
# Jorge Calendar Booking (HOT seller appointment scheduling)
# ----------------------------------------------------------------------------
JORGE_CALENDAR_ID=
# Get from GHL Dashboard > Calendars > Copy Calendar ID

# ----------------------------------------------------------------------------
# Jorge Analytics & Monitoring
# ----------------------------------------------------------------------------
JORGE_ANALYTICS_ENABLED=true
