(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[101],{2913:function(e,t,n){Promise.resolve().then(n.bind(n,147))},357:function(e,t,n){"use strict";var r,i;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(8081)},8081:function(e){!function(){var t={229:function(e){var t,n,r,i=e.exports={};function s(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c=[],l=!1,u=-1;function d(){l&&r&&(l=!1,r.length?c=r.concat(c):u=-1,c.length&&f())}function f(){if(!l){var e=o(d);l=!0;for(var t=c.length;t;){for(r=c,c=[];++u<t;)r&&r[u].run();u=-1,t=c.length}r=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||o(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={exports:{}},a=!0;try{t[e](s,s.exports,r),a=!1}finally{a&&delete n[e]}return s.exports}r.ab="//";var i=r(229);e.exports=i}()},147:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(7437),i=n(2265),s=n(3550),a=n(1364);function o(){let[e,t]=(0,i.useState)([]),[n,o]=(0,i.useState)([]),[c,l]=(0,i.useState)("Summarize top revenue risks for today."),[u,d]=(0,i.useState)(null),[f,h]=(0,i.useState)(!0),[p,m]=(0,i.useState)(!1),[g,y]=(0,i.useState)(null);async function v(e){e.preventDefault();try{m(!0);let e=await a.j.sendMessage({message:c,sessionId:"enterprise-ui-demo-session",context:{currentPage:"concierge",userRole:"executive",activeLeads:[],businessMetrics:{}}});d(e),y(null)}catch(e){y(e instanceof Error?e.message:"Failed to send message")}finally{m(!1)}}return(0,i.useEffect)(()=>{let e=!0;return async function(){try{let[n,r]=await Promise.all([a.j.getRealtimeInsights(),a.j.getProactiveSuggestions()]);if(!e)return;t(n),o(r),y(null)}catch(t){if(!e)return;y(t instanceof Error?t.message:"Unable to load concierge intelligence")}finally{e&&h(!1)}}(),()=>{e=!1}},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("section",{className:"card",children:[(0,r.jsx)("h2",{children:"Claude Concierge"}),(0,r.jsx)("p",{children:"Live assistant channel for executive guidance, risk triage, and next-best actions."})]}),(0,r.jsx)(s.a,{loading:f,error:g,empty:0===e.length&&0===n.length,emptyLabel:"No insights or suggestions are available right now."}),(0,r.jsxs)("section",{className:"grid-2",children:[(0,r.jsxs)("article",{className:"card",children:[(0,r.jsx)("h3",{children:"Realtime Insights"}),(0,r.jsx)("div",{className:"list",children:e.slice(0,6).map(e=>(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("p",{className:"row-title",children:e.title}),(0,r.jsx)("p",{className:"row-subtitle",children:e.description}),(0,r.jsx)("span",{className:"tag",children:e.value})]},"".concat(e.title,"-").concat(e.timestamp)))})]}),(0,r.jsxs)("article",{className:"card",children:[(0,r.jsx)("h3",{children:"Proactive Suggestions"}),(0,r.jsx)("div",{className:"list",children:n.slice(0,5).map(e=>(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("p",{className:"row-title",children:e.title}),(0,r.jsx)("p",{className:"row-subtitle",children:e.description}),(0,r.jsx)("span",{className:"tag",children:e.priority})]},e.id))})]})]}),(0,r.jsxs)("section",{className:"card",children:[(0,r.jsx)("h3",{children:"Ask Concierge"}),(0,r.jsxs)("form",{onSubmit:v,children:[(0,r.jsx)("textarea",{value:c,onChange:e=>l(e.target.value),className:"input","aria-label":"Message"}),(0,r.jsx)("div",{style:{marginTop:"0.75rem"},children:(0,r.jsx)("button",{type:"submit",className:"button",disabled:p||0===c.trim().length,children:p?"Sending...":"Send"})})]}),u?(0,r.jsxs)("div",{className:"row",style:{marginTop:"0.75rem"},children:[(0,r.jsx)("p",{className:"row-title",children:"Concierge Response"}),(0,r.jsx)("p",{className:"row-subtitle",children:u.response}),(0,r.jsxs)("p",{className:"small",children:["Confidence: ",Math.round(100*u.confidence),"%"]})]}):null]})]})}},3550:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(7437);function i(e){let{loading:t,error:n,empty:i,emptyLabel:s}=e;return t?(0,r.jsx)("div",{className:"card",children:(0,r.jsx)("p",{className:"small",children:"Loading live platform data..."})}):n?(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("p",{className:"status-error",children:"Data retrieval failed"}),(0,r.jsx)("p",{className:"small",children:n})]}):i?(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("p",{className:"status-warn",children:"No data available"}),(0,r.jsx)("p",{className:"small",children:s})]}):null}},1364:function(e,t,n){"use strict";n.d(t,{j:function(){return d}});var r=n(1013);function i(){return[{category:"Lead Quality",title:"Hot lead share",value:"37%",trend:"up",trendValue:4.1,description:"Share of high-intent leads increased after enforcing 5-minute SLA.",timestamp:new Date().toISOString()},{category:"Pipeline Risk",title:"Deals at risk",value:"6",trend:"down",trendValue:-1.2,description:"Risk alerts dropped after automated handoff routing.",timestamp:new Date().toISOString()}]}function s(){return[{id:"suggestion-1",type:"optimization",title:"Trigger seller workflow earlier",description:"Auto-escalate when lead mentions equity and timeline in same conversation.",impact:"high",confidence:.89,actionable:!0,estimatedBenefit:"8-12% faster listing conversion",relatedAgents:["seller-bot","journey-orchestrator"],priority:"high",createdAt:new Date().toISOString()}]}function a(e){return(0,r.Uy)(e)&&(0,r.HD)(e.category)&&(0,r.HD)(e.title)&&(0,r.HD)(e.value)&&(0,r.HD)(e.trend)&&(0,r.hj)(e.trendValue)&&(0,r.HD)(e.description)&&(0,r.HD)(e.timestamp)}function o(e){return(0,r.Uy)(e)&&(0,r.HD)(e.id)&&(0,r.HD)(e.type)&&(0,r.HD)(e.title)&&(0,r.HD)(e.description)&&(0,r.HD)(e.impact)&&(0,r.hj)(e.confidence)&&"boolean"==typeof e.actionable&&Array.isArray(e.relatedAgents)&&e.relatedAgents.every(r.HD)&&(0,r.HD)(e.priority)&&(0,r.HD)(e.createdAt)}function c(e){return(0,r.Uy)(e)&&(0,r.HD)(e.response)&&(0,r.hj)(e.confidence)&&(0,r.hj)(e.processingTime)&&Array.isArray(e.agentContext)&&e.agentContext.every(r.HD)}function l(e){return(0,r.Uy)(e)?e:{}}function u(e){return Array.isArray(e)?e.filter(r.Uy):[]}let d={getRealtimeInsights:async()=>(0,r.DV)("/api/claude-concierge/insights",{validate:e=>Array.isArray(e)&&e.every(a),fallback:i}),getProactiveSuggestions:async()=>(0,r.DV)("/api/claude-concierge/suggestions",{validate:e=>Array.isArray(e)&&e.every(o),fallback:s}),async sendMessage(e){var t,n;let a=l(e.context),o={message:e.message,sessionId:e.sessionId,context:{currentPage:(t=a.currentPage,(0,r.HD)(t)?t:"concierge"),userRole:(n=a.userRole,(0,r.HD)(n)?n:"executive"),sessionId:e.sessionId,locationContext:l(a.locationContext),activeLeads:u(a.activeLeads),botStatuses:l(a.botStatuses),userActivity:u(a.userActivity),businessMetrics:l(a.businessMetrics),activeProperties:u(a.activeProperties),marketConditions:l(a.marketConditions),priorityActions:u(a.priorityActions),pendingNotifications:u(a.pendingNotifications)}};return(0,r.Pe)("/api/claude-concierge/chat",o,{validate:c,fallback:()=>{var t;return t=e.message,{response:'Demo fallback: received "'.concat(t,'". Prioritize hot leads, launch follow-up, and review risk alerts in the next 15 minutes.'),insights:i(),suggestions:s(),actions:[{type:"follow_up",label:"Run lead follow-up batch"}],confidence:.81,processingTime:24,agentContext:["demo-fallback","claude-concierge"]}}})}}},1013:function(e,t,n){"use strict";n.d(t,{DV:function(){return a},HD:function(){return l},Pe:function(){return o},Uy:function(){return c},hj:function(){return u}});var r=n(357);class i{async get(e){let t=await fetch("".concat(this.baseUrl).concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},cache:"no-store"});if(!t.ok)throw Error("GET ".concat(e," failed: ").concat(t.status," ").concat(t.statusText));return t.json()}async post(e,t){let n=await fetch("".concat(this.baseUrl).concat(e),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:t?JSON.stringify(t):void 0,cache:"no-store"});if(!n.ok)throw Error("POST ".concat(e," failed: ").concat(n.status," ").concat(n.statusText));return n.json()}constructor(e){this.baseUrl=e||r.env.NEXT_PUBLIC_ENTERPRISE_API_BASE_URL||r.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:8000"}}let s=new i;async function a(e,t){let n=Array.isArray(e)?e:[e],r=[];for(let e of n)try{let n=await s.get(e);if(!t.validate(n))throw Error("Invalid response shape for ".concat(e));return t.transform?t.transform(n):n}catch(e){r.push(e instanceof Error?e.message:String(e))}if(t.fallback)return t.fallback();throw Error(r.join(" | "))}async function o(e,t,n){try{let r=await s.post(e,t);if(!n.validate(r))throw Error("Invalid response shape for ".concat(e));return n.transform?n.transform(r):r}catch(e){if(n.fallback)return n.fallback();throw e}}function c(e){return"object"==typeof e&&null!==e}function l(e){return"string"==typeof e}function u(e){return"number"==typeof e&&Number.isFinite(e)}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=2913)}),_N_E=e.O()}]);